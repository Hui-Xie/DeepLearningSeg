=============training from sratch============
Program ID: 11466

Program command: 
 ['TrainSegV3d_ROI.py', '/home/hxie1/temp_netParameters/OvarianCancer/SegV3d_ROI', '1', '/home/hxie1/data/OvarianCancerCT/primaryROI/nrrd_npy', '/home/hxie1/data/OvarianCancerCT/primaryROI/labels_npy', '0', '3,2,1']

Major program changes: 
      1  3D V model for primary cancer ROI;
      2  Uniform ROI size: 51*171*171 in z,y,x directon;
      3  Total 36 patient data, in which training data 24 patients, validation 6 patients, and test 6 patients;
      4  all 36 patients data have 50-80% 3D label;
      5  Dice coefficient is 3D dice coefficient against corresponding 3D ground truth;
      6  training data augmentation in the fly: affine in XY plane, translation in Z direction;
      7  In the bottle neck of V model, the latent vector has size of 512*2*9*9;
      Sep 16th, 2019:
      1   add dynamic loss weight according trainin  data;
      2   refine learning rate decay.
      Sep 21st, 2019
      1   add improved Boundary Loss2, and inherit the previous learningrate of network of pure CELoss;
      Sep 23rd, 2019:
      1   improve mean of boundary loss limited on the A,B regions;
      2   use log(segProb) instead of segProb in the boudary loss;
      3   CrossEntropy weight reduces 0.01 per 5 epochs from 1 to 0.01, while boundary Loss weight increase 0.01 per 5 epochs from 0.01 to 1. 
      Sep 24th, 2019
      1   Use boundaryLoss1, which is considering the whole volume. 
      Sep 25th, 2019
      1   use boundaryLoss3, which is a stronger gradient signal to improve loss.
      2   unbalanced weight for class is applied on logP,and just use boundaryLoss3 with CELoss.
      3   use CELoss and boundaryLoss together.
      
         

Discarded changes:                  

Experiment setting:
Input CT data: 51*171*171 ROI around primary cancer

Loss Function:  SoftMax

Data:   total 36 patients with 50-80% label, 6-fold cross validation, test 6, validation 6, and training 24.  
    script: python3.7 statisticsLabelFiles.py 
    Total 36 in /home/hxie1/data/OvarianCancerCT/primaryROI/labels_npy
    0 has 48159408 elements, with a rate of  0.8970491562903105 
    1 has 5527068 elements, with a rate of  0.10295084370968957

Training strategy: 

          

Program starting Time: 2019-09-25 12:53:36.045421
Info: netPath = /home/hxie1/temp_netParameters/OvarianCancer/SegV3d_ROI/20190925_125336

Info: this is the 0th fold leave for test in the 6-fold cross-validation.

Info: batchSize = 6

Net parameters is saved in  /home/hxie1/temp_netParameters/OvarianCancer/SegV3d_ROI/20190925_125336.
6-fold cross validation: the 0th fold is for test, the 1th fold is for validation, remaining folds are for training.

training dataset: total 24 image files.

validation dataset: total 6 image files.

test dataset: total 6 image files.
Total 24 training files  extracted from /home/hxie1/data/OvarianCancerCT/primaryROI/labels_npy
0 has 32252453 elements, with a rate of  0.9011334530506342 
1 has 3538531 elements, with a rate of  0.0988665469493658 
loss weight = tensor([1.0000, 9.1146])
Network has total 32,972,258 parameters.


************** Table of Training Log **************
Epoch	LearningRate		TrainingLoss	Dice		ValidationLoss	Dice		TestLoss	Dice
0	1.0000e-02		-397.5850		0.04379		-37745.9453		0.00000		-37166.6250		0.00000
5	1.0000e-02		-12464.0559		0.00000		-8993.3906		0.00000		-9501.0527		0.00000
10	1.0000e-02		-36939.7295		0.00000		-42055.1250		0.00000		-38843.3477		0.00000
15	1.0000e-02		-79814.9219		0.05067		-76874.2969		0.05886		-72795.9531		0.08634
20	1.0000e-02		-141351.6133		0.07320		-145703.4062		0.02738		-134193.3906		0.13580
25	1.0000e-02		-224603.1680		0.19659		-191690.0156		0.30034		-172506.4062		0.31502
30	1.0000e-02		-333514.1562		0.35118		-344990.5000		0.47876		-323250.7188		0.37622
35	1.0000e-02		-464457.3516		0.31053		-539359.7500		0.11474		-518770.0312		0.25064
40	1.0000e-02		-627850.7812		0.41118		-716342.0000		0.23892		-683648.0000		0.31886
45	1.0000e-02		-799951.6406		0.36907		-904923.9375		0.41299		-858634.5625		0.42995
50	1.0000e-03		-982372.0938		0.36157		-1014297.5000		0.40871		-962282.6250		0.43533
55	1.0000e-03		-1016555.5000		0.37384		-1026092.3750		0.35133		-959815.8125		0.41727
60	1.0000e-03		-1039553.6406		0.39304		-1080894.7500		0.37572		-1018535.5625		0.44558
65	1.0000e-03		-1054678.3750		0.38090		-1068129.2500		0.37432		-1008150.4375		0.43843
70	1.0000e-03		-1072262.4375		0.39850		-1089585.7500		0.36594		-1026200.1250		0.41629
75	1.0000e-03		-1089917.6875		0.37473		-1127427.5000		0.39951		-1064964.8750		0.41532
80	1.0000e-03		-1110143.6562		0.38315		-1148482.7500		0.36378		-1088573.5000		0.41590
85	1.0000e-03		-1128240.0000		0.42339		-1145421.7500		0.34045		-1094627.3750		0.40198
90	1.0000e-03		-1142632.1250		0.36863		-1184844.2500		0.29761		-1140897.8750		0.39678
95	1.0000e-03		-1167864.8438		0.43183		-1197262.3750		0.39358		-1141860.0000		0.44189
100	1.0000e-04		-1159638.9375		0.31325		-1175837.2500		0.46224		-1112590.8750		0.46878
105	1.0000e-04		-1164638.2812		0.41434		-1183509.8750		0.40491		-1128813.2500		0.43865
110	1.0000e-04		-1149303.8750		0.40067		-1174660.7500		0.35752		-1123961.5000		0.40748
115	1.0000e-04		-1133966.4062		0.37242		-1162792.1250		0.39684		-1108059.1250		0.43222
120	1.0000e-04		-1121180.3750		0.37280		-1150649.8750		0.37754		-1099068.1250		0.41979
125	1.0000e-04		-1119511.6875		0.36248		-1150928.2500		0.35082		-1101280.3750		0.40808
130	1.0000e-04		-1100388.4688		0.38442		-1138279.5000		0.33839		-1089603.2500		0.40919
135	1.0000e-04		-1100103.5625		0.33779		-1122318.5000		0.33816		-1074676.7500		0.41132
140	1.0000e-04		-1092280.7188		0.40045		-1085000.8750		0.38443		-1034323.6250		0.42136
145	1.0000e-04		-1064490.8594		0.41732		-1084375.3750		0.39023		-1031669.8750		0.43689
150	1.0000e-04		-1072851.1250		0.44844		-1084877.5000		0.36353		-1034892.6250		0.42550
155	1.0000e-04		-1049367.4375		0.40656		-1082774.2500		0.33032		-1041300.0000		0.39203
160	1.0000e-04		-1047038.7812		0.41434		-1064070.7500		0.34451		-1021233.6250		0.41262
165	1.0000e-04		-1034698.0938		0.36212		-1041119.5000		0.35502		-997447.0000		0.41647
170	1.0000e-04		-1024404.6875		0.39266		-1034308.0000		0.37019		-989249.3750		0.42290
175	1.0000e-04		-1006317.9062		0.33818		-1023383.3750		0.35405		-980837.2500		0.40958
180	1.0000e-04		-997990.1562		0.43390		-1026458.3750		0.31450		-989104.1250		0.39607
185	1.0000e-04		-988203.9531		0.38617		-1000965.0000		0.33954		-958741.2500		0.40695
190	1.0000e-04		-980487.2969		0.37583		-995077.8125		0.31113		-957251.0625		0.38888
195	1.0000e-04		-966789.0781		0.35458		-967384.6875		0.35941		-925761.3750		0.41535
200	1.0000e-05		-958287.4844		0.37802		-964766.9375		0.33393		-929845.5625		0.39311
205	1.0000e-05		-943834.4844		0.40336		-968136.3750		0.34247		-931267.5000		0.40042
210	1.0000e-05		-922913.8281		0.35566		-948469.1875		0.35739		-907898.2500		0.41390
215	1.0000e-05		-927669.4688		0.39985		-934560.7500		0.39090		-891574.3750		0.43300
220	1.0000e-05		-911247.9219		0.37008		-938535.0625		0.34681		-903848.8750		0.40805
225	1.0000e-05		-899361.2656		0.45412		-921380.0000		0.36568		-881635.6250		0.42334
230	1.0000e-05		-880370.0469		0.37588		-899039.3750		0.41154		-852913.8125		0.45262
235	1.0000e-05		-868574.0469		0.37299		-897677.7500		0.37674		-857810.0000		0.43327
240	1.0000e-05		-860754.5469		0.41827		-867474.3750		0.40279		-821908.8750		0.44277
245	1.0000e-05		-851211.9219		0.45363		-874163.8750		0.39936		-834607.3750		0.44586
250	1.0000e-05		-836327.2969		0.34241		-856709.3750		0.36735		-818870.5000		0.42010
255	1.0000e-05		-825250.4219		0.45107		-836167.0625		0.33632		-802301.1250		0.40073
260	1.0000e-05		-810520.7969		0.39130		-819413.8750		0.33355		-788915.9375		0.39477
265	1.0000e-05		-803653.2500		0.36620		-804878.5000		0.36952		-773403.6875		0.40412
270	1.0000e-05		-791632.4531		0.45299		-814149.9375		0.40820		-775033.3750		0.45842
275	1.0000e-05		-774324.5312		0.36376		-794966.0625		0.39096		-756483.5000		0.43741
280	1.0000e-05		-760111.9688		0.42147		-790244.8750		0.38155		-755270.3125		0.43490
285	1.0000e-05		-750264.3125		0.37917		-764984.2500		0.35086		-733139.6250		0.41270
290	1.0000e-05		-741293.6562		0.44478		-752005.7500		0.33711		-724149.7500		0.39577
295	1.0000e-05		-730534.9219		0.40926		-739700.5000		0.37918		-705976.2500		0.43121
300	1.0000e-05		-719014.2969		0.43172		-728573.2500		0.31120		-704472.2500		0.38705
305	1.0000e-05		-705749.8750		0.42116		-723732.8750		0.28545		-701591.6875		0.37101
310	1.0000e-05		-692295.1406		0.38475		-713715.8125		0.31582		-689656.9375		0.38405
315	1.0000e-05		-680041.1719		0.45043		-691310.8750		0.36462		-660432.3750		0.41894
320	1.0000e-05		-669001.0312		0.40706		-682576.9375		0.37379		-650915.9375		0.42972
325	1.0000e-05		-655549.3281		0.43992		-657684.3125		0.36966		-629812.3125		0.41722
330	1.0000e-05		-642329.7344		0.42266		-659044.0000		0.36690		-631655.5625		0.42142
335	1.0000e-05		-631221.9531		0.40842		-638762.8750		0.40293		-607948.6875		0.44227
340	1.0000e-05		-620349.5156		0.40889		-645011.5000		0.33813		-621486.0000		0.40643
345	1.0000e-05		-604460.6094		0.38859		-613488.6250		0.32935		-590848.3125		0.39969
350	1.0000e-06		-595133.1250		0.36193		-612027.2500		0.31911		-589664.1875		0.39263
355	1.0000e-06		-583194.9375		0.42406		-594952.8125		0.36415		-569958.7500		0.41647
360	1.0000e-06		-572284.1875		0.39683		-583649.2500		0.34133		-560342.7500		0.40868
365	1.0000e-06		-562216.0938		0.43498		-575578.0000		0.34772		-551159.0000		0.41408
370	1.0000e-06		-549987.7344		0.40482		-552011.6250		0.35699		-528933.3750		0.40822
375	1.0000e-06		-534688.2344		0.40541		-543553.9375		0.28584		-527691.3750		0.36754
380	1.0000e-06		-523293.2969		0.42710		-528299.0000		0.33550		-508523.2500		0.39658
385	1.0000e-06		-507351.7109		0.38394		-521450.4062		0.36715		-499256.0000		0.42383
390	1.0000e-06		-495116.3672		0.40686		-512872.5312		0.33847		-491243.0625		0.40879
395	1.0000e-06		-487877.5312		0.44381		-498572.5000		0.33524		-478778.0625		0.39962
400	1.0000e-06		-472414.8750		0.42852		-478516.2500		0.41005		-452856.4375		0.45178
405	1.0000e-06		-464422.0156		0.42274		-465193.9062		0.37176		-443078.5312		0.42550
410	1.0000e-06		-450787.3281		0.42839		-458403.9062		0.40410		-436917.2500		0.44655
415	1.0000e-06		-439022.2969		0.46547		-449362.7500		0.37455		-428118.5000		0.42957
420	1.0000e-06		-425050.8359		0.43162		-439645.9688		0.37286		-421221.5000		0.43129
425	1.0000e-06		-411086.2969		0.40213		-427842.4375		0.32251		-413447.6875		0.39337
430	1.0000e-06		-403183.3828		0.43373		-415940.4062		0.31921		-401046.9375		0.39377
