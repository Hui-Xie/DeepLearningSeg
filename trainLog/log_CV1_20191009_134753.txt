=============training from sratch============
Program ID: 18170

Program command: 
 ['TrainSegV3d_ROI.py', '/home/hxie1/temp_netParameters/OvarianCancer/SegV3d_ROI', '1', '/home/hxie1/data/OvarianCancerCT/primaryROI1_1_3/nrrd_npy', '/home/hxie1/data/OvarianCancerCT/primaryROI1_1_3/labels_npy', '1', '3,2,1']

Major program changes: 
      1  3D V model for primary cancer ROI;
      2  Uniform ROI size: 51*171*171 in z,y,x directon;
      3  Total 36 patient data, in which training data 24 patients, validation 6 patients, and test 6 patients;
      4  all 36 patients data have 50-80% 3D label;
      5  Dice coefficient is 3D dice coefficient against corresponding 3D ground truth;
      6  training data augmentation in the fly: affine in XY plane, translation in Z direction;
      7  In the bottle neck of V model, the latent vector has size of 512*2*9*9;
      Sep 16th, 2019:
      1   add dynamic loss weight according trainin  data;
      2   refine learning rate decay.
      Sep 21st, 2019
      1   add improved Boundary Loss2, and inherit the previous learningrate of network of pure CELoss;
      Sep 23rd, 2019:
      1   improve mean of boundary loss limited on the A,B regions;
      2   use log(segProb) instead of segProb in the boudary loss;
      3   CrossEntropy weight reduces 0.01 per 5 epochs from 1 to 0.01, while boundary Loss weight increase 0.01 per 5 epochs from 0.01 to 1. 
      Sep 24th, 2019
      1   Use boundaryLoss1, which is considering the whole volume. 
      Sep 25th, 2019
      1   use boundaryLoss3, which is a stronger gradient signal to improve loss.
      2   unbalanced weight for class is applied on logP,and just use boundaryLoss3 with CELoss.
      3   use CELoss and boundaryLoss together.
      4   Use truncated DistanceCrossEntropy Loss alone;
      5   change LRScheduler into reduce into Plateau with initial LR=0.1
      Sep 26th, 2019
      1   Add one layer in the bottom of V model;
      2   Add residual connnection in each layer;
      Sep 30th, 2019
      1   With size-reduced ROI of size 51*149*149;
      2   reduce the translation of data augmentation;
      3   reduce all data into 35 patients, excluding a very blur patient.
      Oct 5th, 2019
      1   use uniform physical size 147mm*147mm*147mm, input pixel size: 49*147*147 with spacing size 3mm*1mm*1mm;
      2   change V model with inputsize 49*147*147
      Oct 6th, 2019
      1   add filter number to 48 at the first layer. 
      Oct 7th, 2019
      1   restore to 32 of number of filters in the first layer;
      2   add bottom number of filters to 1024, and keep down sample and add filter number together. 
      Oct 8th, 2019
      1   discard the cancer with size exceeding 147mm*147mm*147mm; Now remains 29 patients data; 
      Oct 9th, 209
      1   In the first layer of V model, remove the residual link; 
           with the residula link at first layer: Tr dice:54%, Validation Dice 27%, Test Dice 56%;  Not good.
      2   the final output layer, change into 1*1*1 convolution, instead of 3*3*3 convolution;
          
         

Discarded changes:                  
          

Program starting Time: 2019-10-09 13:47:53.944670
Info: netPath = /home/hxie1/temp_netParameters/OvarianCancer/SegV3d_ROI/20191009_134753

Info: this is the 1th fold leave for test in the 6-fold cross-validation.

Info: batchSize = 6

Net parameters is saved in  /home/hxie1/temp_netParameters/OvarianCancer/SegV3d_ROI/20191009_134753.
6-fold cross validation: the 1th fold is for test, the 2th fold is for validation, remaining folds are for training.

training dataset: total 19 image files.

validation dataset: total 5 image files.

test dataset: total 5 image files.
Total 19 training files  extracted from /home/hxie1/data/OvarianCancerCT/primaryROI1_1_3/labels_npy
0 has 18657366 elements, with a rate of  0.9273976277637033 
1 has 1460613 elements, with a rate of  0.0726023722362967 
loss weight = tensor([ 1.0000, 12.7737])
Network has total 113,191,074 parameters.


************** Table of Training Log **************
Epoch	LearningRate		TrainingLoss	Dice		ValidationLoss	Dice		TestLoss	Dice
0	1.0000e-02		13.9869		0.07646		1609.7452		0.00000		489.8737		0.00000
5	1.0000e-02		8.4267		0.30245		63.4364		0.29284		5.7963		0.14784
10	1.0000e-02		6.8185		0.36113		38.9749		0.27644		6.9016		0.14854
15	1.0000e-02		5.8598		0.37606		10.8700		0.38299		5.2236		0.18613
20	1.0000e-02		5.2230		0.39698		7.7136		0.36774		5.4181		0.18711
25	1.0000e-02		4.3721		0.43856		7.1989		0.39896		4.9941		0.24021
30	1.0000e-02		5.9445		0.41009		7.4174		0.37495		4.1786		0.22182
35	1.0000e-02		4.4450		0.38210		10.3276		0.45140		2.8718		0.25298
40	1.0000e-02		4.1871		0.39874		6.5182		0.46433		3.2378		0.22243
45	1.0000e-02		3.4785		0.47632		6.7865		0.46617		2.9149		0.23597
50	1.0000e-02		4.1188		0.47971		8.5526		0.53704		3.8504		0.22811
55	1.0000e-02		3.7583		0.43782		5.7978		0.41125		3.6932		0.21577
60	1.0000e-02		6.2162		0.41540		5.8774		0.52416		2.4953		0.24404
65	1.0000e-02		7.9344		0.41605		18.3990		0.35003		4.7628		0.22411
70	1.0000e-02		4.8941		0.40506		7.2606		0.40615		4.8822		0.21908
75	1.0000e-02		4.3986		0.42495		9.7135		0.43720		5.3039		0.18389
80	1.0000e-02		3.1325		0.45314		4.9243		0.50216		2.8421		0.23841
85	1.0000e-02		3.6836		0.47167		9.8435		0.45985		3.1240		0.24393
90	1.0000e-02		3.8992		0.40565		6.7328		0.57124		4.1947		0.22525
95	1.0000e-02		2.8319		0.46903		8.5813		0.43417		3.4386		0.23382
