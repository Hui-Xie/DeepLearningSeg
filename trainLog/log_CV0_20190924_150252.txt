=============training from sratch============
Program ID: 17916

Program command: 
 ['TrainSegV3d_ROI.py', '/home/hxie1/temp_netParameters/OvarianCancer/SegV3d_ROI', '1', '/home/hxie1/data/OvarianCancerCT/primaryROI/nrrd_npy', '/home/hxie1/data/OvarianCancerCT/primaryROI/labels_npy', '0', '3,2,1']

Major program changes: 
      1  3D V model for primary cancer ROI;
      2  Uniform ROI size: 51*171*171 in z,y,x directon;
      3  Total 36 patient data, in which training data 24 patients, validation 6 patients, and test 6 patients;
      4  all 36 patients data have 50-80% 3D label;
      5  Dice coefficient is 3D dice coefficient against corresponding 3D ground truth;
      6  training data augmentation in the fly: affine in XY plane, translation in Z direction;
      7  In the bottle neck of V model, the latent vector has size of 512*2*9*9;
      Sep 16th, 2019:
      1   add dynamic loss weight according trainin  data;
      2   refine learning rate decay.
      Sep 21st, 2019
      1   add improved Boundary Loss2, and inherit the previous learningrate of network of pure CELoss;
      Sep 23rd, 2019:
      1   improve mean of boundary loss limited on the A,B regions;
      2   use log(segProb) instead of segProb in the boudary loss;
      3   CrossEntropy weight reduces 0.01 per 5 epochs from 1 to 0.01, while boundary Loss weight increase 0.01 per 5 epochs from 0.01 to 1. 
      Spe 24th, 2019
      1   Use boundaryLoss1, which is considering the whole volume. 
      
         

Discarded changes:                  

Experiment setting:
Input CT data: 51*171*171 ROI around primary cancer

Loss Function:  SoftMax

Data:   total 36 patients with 50-80% label, 6-fold cross validation, test 6, validation 6, and training 24.  
    script: python3.7 statisticsLabelFiles.py 
    Total 36 in /home/hxie1/data/OvarianCancerCT/primaryROI/labels_npy
    0 has 48159408 elements, with a rate of  0.8970491562903105 
    1 has 5527068 elements, with a rate of  0.10295084370968957

Training strategy: 

          

Program starting Time: 2019-09-24 15:02:52.256291
Info: netPath = /home/hxie1/temp_netParameters/OvarianCancer/SegV3d_ROI/20190924_150252

Info: this is the 0th fold leave for test in the 6-fold cross-validation.

Info: batchSize = 6

Net parameters is saved in  /home/hxie1/temp_netParameters/OvarianCancer/SegV3d_ROI/20190924_150252.
6-fold cross validation: the 0th fold is for test, the 1th fold is for validation, remaining folds are for training.

training dataset: total 24 image files.

validation dataset: total 6 image files.

test dataset: total 6 image files.
Total 24 training files  extracted from /home/hxie1/data/OvarianCancerCT/primaryROI/labels_npy
0 has 32252453 elements, with a rate of  0.9011334530506342 
1 has 3538531 elements, with a rate of  0.0988665469493658 
loss weight = tensor([1.0000, 9.1146])
Network has total 32,972,258 parameters.


************** Table of Training Log **************
Epoch	LearningRate		TrainingLoss	Dice		ValidationLoss	Dice		TestLoss	Dice
0	1.0000e-02		4.3721		0.07668		2345.7830		0.00000		1522.6638		0.00069
5	1.0000e-02		1.7570		0.27796		2.0397		0.40435		2.3649		0.29498
10	1.0000e-02		1.3017		0.43067		1.0745		0.46015		1.4646		0.34763
15	1.0000e-02		1.2310		0.41988		1.3418		0.38820		1.8068		0.29615
20	1.0000e-02		1.1680		0.45030		1.5025		0.39793		1.8004		0.33514
25	1.0000e-02		1.0564		0.48065		1.1076		0.45693		1.3465		0.36737
30	1.0000e-02		0.9856		0.48152		0.8629		0.56871		1.0224		0.45326
35	1.0000e-02		0.9352		0.49214		0.8004		0.60194		0.8406		0.50458
40	1.0000e-02		0.9574		0.52007		0.9824		0.48117		1.3167		0.36955
45	1.0000e-02		0.9328		0.48192		0.8347		0.56057		0.9729		0.43800
50	1.0000e-03		0.8058		0.53690		0.8662		0.62108		0.7699		0.50662
55	1.0000e-03		0.8316		0.54269		0.9006		0.64251		0.7371		0.54074
60	1.0000e-03		0.8314		0.51240		0.8503		0.62701		0.7809		0.50874
65	1.0000e-03		0.8478		0.51854		0.8529		0.64302		0.7508		0.52114
70	1.0000e-03		0.8674		0.52609		0.8667		0.61073		0.7951		0.49250
75	1.0000e-03		0.8661		0.52136		0.8541		0.62126		0.7515		0.50328
80	1.0000e-03		0.9153		0.53932		0.9488		0.62197		0.7596		0.51900
85	1.0000e-03		0.8333		0.49953		0.8773		0.64094		0.7411		0.53117
90	1.0000e-03		0.8080		0.53015		0.8322		0.63032		0.7756		0.50274
95	1.0000e-03		0.8156		0.53698		0.8542		0.64640		0.7362		0.51948
100	1.0000e-04		0.9102		0.51501		0.8831		0.61714		0.8577		0.49322
105	1.0000e-04		0.9148		0.54241		0.8792		0.61441		0.9180		0.48795
110	1.0000e-04		0.8637		0.54726		0.9427		0.64665		0.9002		0.51937
115	1.0000e-04		0.9629		0.54521		0.9593		0.64565		0.9178		0.52248
120	1.0000e-04		1.0161		0.53659		0.9644		0.62973		1.0140		0.50873
125	1.0000e-04		0.9191		0.57344		1.0009		0.64957		0.9705		0.53447
130	1.0000e-04		0.8634		0.57436		1.0328		0.64122		1.0207		0.53245
135	1.0000e-04		0.9883		0.59079		1.0056		0.64880		1.0360		0.53399
140	1.0000e-04		0.9618		0.59678		1.0444		0.65655		1.0399		0.54692
145	1.0000e-04		1.1042		0.56791		1.0522		0.65365		1.0454		0.54710
150	1.0000e-04		1.0521		0.58147		1.0873		0.65980		1.0040		0.56112
155	1.0000e-04		1.1065		0.57948		1.0948		0.66304		1.0264		0.56339
160	1.0000e-04		0.9716		0.61389		1.1113		0.66100		1.0395		0.56880
165	1.0000e-04		1.0897		0.59778		1.0844		0.65990		1.0901		0.56013
170	1.0000e-04		1.1122		0.57617		1.1178		0.65510		1.1623		0.55361
175	1.0000e-04		1.1536		0.58580		1.1823		0.67381		0.9733		0.59169
180	1.0000e-04		1.0939		0.60974		1.1269		0.66641		1.0736		0.57484
185	1.0000e-04		0.9855		0.60250		1.1099		0.66729		1.1431		0.57407
190	1.0000e-04		0.9698		0.62505		1.1065		0.66590		1.1780		0.56682
195	1.0000e-04		1.0202		0.61866		1.1235		0.67907		1.0115		0.59857
200	1.0000e-05		1.0506		0.61459		1.1275		0.67145		1.1226		0.58446
205	1.0000e-05		1.0084		0.61098		1.1413		0.66893		1.1397		0.58142
210	1.0000e-05		0.9788		0.62790		1.1714		0.67001		1.0785		0.59336
215	1.0000e-05		1.0393		0.61869		1.1040		0.67682		1.1348		0.58645
220	1.0000e-05		1.1717		0.60778		1.1206		0.66935		1.2850		0.57028
225	1.0000e-05		1.0145		0.62030		1.0937		0.67638		1.1712		0.59157
230	1.0000e-05		0.9602		0.60740		1.1333		0.66889		1.2659		0.57089
235	1.0000e-05		0.9261		0.60235		1.1399		0.67562		1.0794		0.60632
240	1.0000e-05		0.9675		0.62498		1.1305		0.67373		1.1001		0.60454
245	1.0000e-05		1.1244		0.60774		1.1479		0.67368		1.0672		0.61034
250	1.0000e-05		0.9877		0.60008		1.1950		0.66920		1.1199		0.60112
255	1.0000e-05		1.2846		0.58674		1.1992		0.66844		1.1372		0.60302
260	1.0000e-05		1.2390		0.60767		1.1323		0.67447		1.2484		0.58863
265	1.0000e-05		1.1078		0.63081		1.0523		0.68461		1.0760		0.61220
270	1.0000e-05		0.9662		0.60965		1.1395		0.67466		1.1389		0.60337
275	1.0000e-05		0.9629		0.61162		1.1292		0.67286		1.2423		0.60017
280	1.0000e-05		1.0133		0.62135		1.1140		0.67388		1.1622		0.61158
285	1.0000e-05		1.2363		0.58203		1.0595		0.67663		1.2702		0.59755
290	1.0000e-05		0.9034		0.63881		1.1013		0.67220		1.1607		0.61487
295	1.0000e-05		1.0038		0.62124		1.1048		0.66810		1.0760		0.62400
300	1.0000e-05		0.9294		0.62792		1.1258		0.67164		1.1694		0.60815
305	1.0000e-05		1.0931		0.60672		1.0497		0.67432		1.0815		0.62268
310	1.0000e-05		0.8910		0.61217		1.0760		0.66934		1.1464		0.61945
315	1.0000e-05		0.8699		0.62543		1.0692		0.67029		1.0811		0.62547
320	1.0000e-05		0.7804		0.64593		1.0592		0.66852		1.0648		0.62551
325	1.0000e-05		0.9186		0.63123		1.0439		0.66926		1.0775		0.62568
330	1.0000e-05		0.8621		0.64121		1.0521		0.67057		1.0136		0.63045
335	1.0000e-05		1.1122		0.59181		1.0629		0.67344		1.2916		0.60623
340	1.0000e-05		0.8901		0.64214		1.0350		0.67039		1.1587		0.62486
345	1.0000e-05		0.7881		0.65169		0.9406		0.67277		1.0829		0.62731
350	1.0000e-06		1.1241		0.60971		0.9553		0.67413		1.0478		0.62917
355	1.0000e-06		0.8588		0.62407		0.9544		0.65779		0.9248		0.64561
360	1.0000e-06		0.9311		0.57674		1.0532		0.66606		1.1618		0.62510
365	1.0000e-06		0.8218		0.62488		0.9074		0.66611		1.0135		0.63744
370	1.0000e-06		1.0131		0.60609		0.9409		0.67527		1.0863		0.62952
375	1.0000e-06		0.8227		0.63725		1.0690		0.66981		1.3455		0.60753
380	1.0000e-06		0.8249		0.61894		1.0293		0.67171		1.1792		0.62144
385	1.0000e-06		0.8456		0.63442		0.9970		0.67532		1.1728		0.61848
390	1.0000e-06		0.7109		0.63222		0.9965		0.67336		1.1104		0.62801
395	1.0000e-06		0.8418		0.63060		0.9737		0.67247		1.2159		0.62154
400	1.0000e-06		0.8335		0.59295		0.8836		0.67083		1.1031		0.63174
405	1.0000e-06		0.6344		0.64689		0.7876		0.66712		1.0024		0.63879
410	1.0000e-06		0.8220		0.63027		0.8472		0.65804		0.8485		0.64080
415	1.0000e-06		0.9875		0.61837		0.8564		0.66666		0.9106		0.64402
420	1.0000e-06		0.7050		0.63509		0.7999		0.67092		0.9768		0.63801
425	1.0000e-06		0.6543		0.64986		0.7872		0.67533		1.1655		0.62885
430	1.0000e-06		0.7463		0.62908		0.7207		0.66227		0.9486		0.64133
435	1.0000e-06		0.6184		0.60743		0.8760		0.67191		1.1110		0.63125
440	1.0000e-06		0.8997		0.60646		0.9075		0.67499		1.1806		0.62476
445	1.0000e-06		1.0118		0.58899		0.7681		0.67176		1.1702		0.62914
450	1.0000e-06		0.6076		0.64946		0.7281		0.66118		0.8889		0.64827
455	1.0000e-06		0.8982		0.60106		0.6820		0.66684		0.8420		0.64843
460	1.0000e-06		0.5924		0.62502		0.6421		0.62943		0.6011		0.65171
465	1.0000e-06		0.8114		0.62195		0.6983		0.66426		1.0323		0.64284
470	1.0000e-06		0.7211		0.65077		0.7837		0.67254		1.1412		0.63063
475	1.0000e-06		0.6298		0.60268		0.5070		0.62841		0.5545		0.65090
480	1.0000e-06		0.8705		0.55650		0.6852		0.66784		1.0193		0.64106
485	1.0000e-06		0.4781		0.65696		0.7413		0.66984		1.1426		0.63296
490	1.0000e-06		0.6953		0.63882		0.6480		0.66952		0.9218		0.64332
495	1.0000e-06		0.9079		0.60394		0.7024		0.66871		1.0676		0.63727
500	1.0000e-07		0.9501		0.59359		0.5939		0.65691		0.9034		0.64811
505	1.0000e-07		0.5987		0.65183		0.4965		0.65999		0.8844		0.64935
510	1.0000e-07		0.3518		0.64850		0.5183		0.64988		0.8702		0.64948
515	1.0000e-07		0.4485		0.64384		0.4283		0.64787		0.7872		0.64685
520	1.0000e-07		0.5148		0.63995		0.4931		0.66173		0.9270		0.64582
525	1.0000e-07		0.5241		0.60492		0.8696		0.67482		1.4691		0.61553
530	1.0000e-07		0.8137		0.60279		0.6811		0.67127		1.3081		0.62897
535	1.0000e-07		0.5974		0.62351		0.5129		0.66122		0.9930		0.64641
540	1.0000e-07		0.6131		0.62173		0.7805		0.66917		1.4437		0.62258
545	1.0000e-07		0.6056		0.61209		0.5246		0.66991		0.9754		0.64199
550	1.0000e-07		0.4419		0.60671		0.4481		0.66490		0.9622		0.64251
555	1.0000e-07		0.4941		0.61633		0.4025		0.66312		0.9171		0.64686
560	1.0000e-07		0.5425		0.63378		0.2745		0.66255		1.0042		0.64185
565	1.0000e-07		0.5511		0.60612		0.5953		0.67464		1.5259		0.62042
570	1.0000e-07		0.3137		0.63866		0.3339		0.66035		0.9340		0.64368
575	1.0000e-07		0.8286		0.62443		0.6257		0.67340		1.0801		0.63472
580	1.0000e-07		0.4764		0.61570		0.5087		0.67095		1.1198		0.63617
585	1.0000e-07		0.4733		0.62329		0.1830		0.64900		0.6591		0.65144
590	1.0000e-07		0.4448		0.64912		0.3926		0.66810		1.0223		0.64085
595	1.0000e-07		0.5264		0.60331		0.4619		0.66757		1.0991		0.64051
600	1.0000e-07		0.3250		0.63142		0.4376		0.67497		1.0979		0.63343
