Program ID of SkyWatcher Network training:31639

Program command: 
 ['/home/hxie1/Projects/OvarianCancer/TrainSkyWacherPurePrediction.py', '/home/hxie1/temp_netParameters/OvarianCancer/SkyWatcher', '/home/hxie1/data/OvarianCancerCT/Extract_ps2_2_5/Images_ROI_29_140_140', '/home/hxie1/data/OvarianCancerCT/patientResponseDict.json']

Major program changes: 
                      merge train and test dataMgr into one.
                      when epoch %5 ==0, do not use mixup.
                      Directly use 3D data for treatment prediction without segmentation. 
                      Number of filters in encoder is 128 

Experiment setting for Image3d ROI to response:
Input CT data: 29*140*140  3D CT raw image ROI with spacing size(5*2*2)

Predictive Model: 1,  first 3-layer dense conv block with channel size 128.
                  2,  and 3 dense conv DownBB blocks,  each of which includes a stride 2 conv and 3-layers dense conv block; 
                  3,  and 3 fully connected layers  changes the tensor into size 2*1;
                  4,  final a softmax for binary classification;
                  Total network learning parameters are 8 million.
                  Network architecture is referred at https://github.com/Hui-Xie/OvarianCancer/blob/master/SkyWatcherModel.py

response Loss Function:   focus loss  with weight [3.3, 1.4] for [0,1] class separately, as [0,1] uneven distribution.

Data:   training data has 113 patients, and valdiation data has 27 patients with training/test rate 80/20.
        We randomize all data, and then assign same distrubtion of treat reponse 0,1 into to training and test data set.


Training strategy:  50% probability of data are mixed up with beta distribution with alpha =0.4, to feed into network for training. 
                    No other data augmentation, and no dropout.  

                    Learning Scheduler:  Reduce learning rate on  plateau, and learning rate patience is 30 epochs.                                

            

Program starting Time: 2019-06-11 11:01:13.543762
Info: netPath = /home/hxie1/temp_netParameters/OvarianCancer/SkyWatcher

Now program get 140 input files.
Infor: In all data of 140 files, respone 0 has 41 files,
	  and response 1 has 99 files 
==== Regenerate training set and validation set by random with same distribution of 0 and 1 ==== 
Infor: Validation Set has 27 files,and Training Set has 113 files
TrainTestData Input:  batchSize=4, depth=29, height=140, width=140

Info: the size of bottle neck in the net = 128* (1, 7, 7)

Info: program uses Mixup with alpha=0.4, and mixupProb = 0.5.
Network trains from scratch.
Network has total 8,134,012 parameters.
Infor: Cross Entropy Weight: [3.3333333333333335, 1.4285714285714286] for label[0, 1]
Info: program will use 4 GPUs.
Loss Functions List: FocalCELoss with weight of 1; 

Hints: Optimal_Result = Yes = 1,  Optimal_Result = No = 0 

Epoch	TrLoss		Accura	TPR_r	TsLoss		Accura	TPR_r
0	0.1733		0.5000	0.0000	0.1734		0.2500	0.0000
1	0.1734		0.2500	0.0000	0.1734		0.2500	0.0000
2	0.1734		0.0000	0.0000	0.1734		0.2500	0.0000
3	0.1729		0.5000	0.0000	0.1745		0.0000	0.0000
4	0.1734		0.2500	0.0000	0.1735		0.2500	0.0000
5	0.1747		0.0000	0.0000	0.1734		0.2500	0.0000
6	0.1728		0.0000	0.0000	0.1734		0.2500	0.0000
7	0.1731		0.0000	0.0000	0.1744		0.0000	0.0000
8	0.1741		0.0000	0.0000	0.1743		0.0000	0.0000
9	0.1734		0.0000	0.0000	0.1734		0.2500	0.0000
10	0.1734		0.2500	0.0000	0.1730		0.5000	0.0000
11	0.1731		0.0000	0.0000	0.1730		0.5000	0.0000
12	0.1734		0.0000	0.0000	0.1731		0.5000	0.0000
13	0.1733		0.2500	0.0000	0.1733		0.2500	0.0000
14	0.1736		0.0000	0.0000	0.1734		0.0000	0.0000
15	0.1734		0.0000	0.0000	0.1733		0.7500	1.0000
16	0.1733		0.7500	1.0000	0.1732		0.7500	1.0000
17	0.1727		1.0000	1.0000	0.1737		0.5000	1.0000
18	0.1732		0.7500	1.0000	0.1719		1.0000	1.0000
19	0.1731		0.7500	1.0000	0.1731		0.7500	1.0000
20	0.1731		0.7500	1.0000	0.1730		0.7500	1.0000
21	0.1730		0.7500	1.0000	0.1730		0.7500	1.0000
22	0.1730		0.0000	0.0000	0.1706		1.0000	1.0000
23	0.1730		0.0000	0.0000	0.1745		0.5000	1.0000
24	0.1703		1.0000	1.0000	0.1729		0.7500	1.0000
25	0.1747		0.5000	1.0000	0.1729		0.7500	1.0000
26	0.1748		0.0000	0.0000	0.1749		0.5000	1.0000
27	0.1732		0.0000	0.0000	0.1764		0.2500	1.0000
28	0.1728		0.0000	0.0000	0.1728		0.7500	1.0000
29	0.1728		0.7500	1.0000	0.1689		1.0000	1.0000
30	0.1751		0.5000	1.0000	0.1688		1.0000	1.0000
31	0.1751		0.5000	1.0000	0.1752		0.5000	1.0000
32	0.1752		0.0000	0.0000	0.1728		0.7500	1.0000
33	0.1728		0.7500	1.0000	0.1728		0.7500	1.0000
34	0.1752		0.5000	1.0000	0.1688		1.0000	1.0000
35	0.1688		1.0000	1.0000	0.1688		1.0000	1.0000
36	0.1728		0.0000	0.0000	0.1687		1.0000	1.0000
37	0.1752		0.5000	1.0000	0.1752		0.5000	1.0000
38	0.1728		0.7500	1.0000	0.1727		0.7500	1.0000
39	0.1752		0.5000	1.0000	0.1687		1.0000	1.0000
40	0.1728		0.7500	1.0000	0.1768		0.2500	1.0000
41	0.1696		0.0000	0.0000	0.1727		0.7500	1.0000
42	0.1727		0.7500	1.0000	0.1685		1.0000	1.0000
43	0.1753		0.0000	0.0000	0.1753		0.5000	1.0000
44	0.1685		1.0000	1.0000	0.1727		0.7500	1.0000
45	0.1727		0.7500	1.0000	0.1727		0.7500	1.0000
46	0.1727		0.7500	1.0000	0.1727		0.7500	1.0000
47	0.1755		0.5000	1.0000	0.1727		0.7500	1.0000
48	0.1679		1.0000	1.0000	0.1776		0.2500	1.0000
49	0.1683		0.0000	0.0000	0.1726		0.7500	1.0000
50	0.1757		0.5000	1.0000	0.1758		0.5000	1.0000
51	0.1779		0.0000	0.0000	0.1726		0.7500	1.0000
52	0.1699		0.0000	0.0000	0.1726		0.7500	1.0000
53	0.1726		0.0000	0.0000	0.1782		0.2500	1.0000
54	0.1670		0.0000	0.0000	0.1760		0.5000	1.0000
55	0.1784		0.2500	1.0000	0.1761		0.5000	1.0000
56	0.1725		0.7500	1.0000	0.1761		0.5000	1.0000
57	0.1725		0.7500	1.0000	0.1664		1.0000	1.0000
58	0.1762		0.5000	1.0000	0.1663		1.0000	1.0000
59	0.1725		0.7500	1.0000	0.1725		0.7500	1.0000
60	0.1663		1.0000	1.0000	0.1763		0.5000	1.0000
61	0.1662		0.0000	0.0000	0.1659		1.0000	1.0000
62	0.1791		0.2500	1.0000	0.1765		0.5000	1.0000
63	0.1725		0.7500	1.0000	0.1724		0.7500	1.0000
64	0.1765		0.5000	1.0000	0.1766		0.5000	1.0000
65	0.1766		0.5000	1.0000	0.1724		0.7500	1.0000
66	0.1724		0.7500	1.0000	0.1655		1.0000	1.0000
67	0.1724		0.7500	1.0000	0.1766		0.5000	1.0000
68	0.1669		0.0000	0.0000	0.1724		0.7500	1.0000
69	0.1795		0.0000	0.0000	0.1795		0.2500	1.0000
70	0.1795		0.2500	1.0000	0.1654		1.0000	1.0000
